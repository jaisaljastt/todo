{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reset Your Password - TODO BY JST</title>
    <link
      rel="stylesheet"
      href="{% static 'password/password-reset-flow.css' %}"
    />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="nav-content">
        <h1 class="app-title">TODO</h1>
        <h2 class="app-subtitle">BY JST</h2>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Reset Your Password</h2>
          <p class="card-description">Enter your new password below</p>
        </div>

        <form class="login-form" method="POST">
          {% csrf_token %} {% if form.errors %}
          <div class="error-messages">
            {% for field in form %} {% for error in field.errors %}
            <div>{{ error }}</div>
            {% endfor %} {% endfor %} {% for error in form.non_field_errors %}
            <div>{{ error }}</div>
            {% endfor %}
          </div>
          {% endif %}
          <div class="form-content">
            <div class="form-group">
              <label for="password" class="form-label">New Password</label>
              <div class="password-container">
                <input
                  type="password"
                  id="password"
                  name="new_password1"
                  class="form-input"
                  placeholder="Enter your new password"
                  required
                />
                <button
                  type="button"
                  class="password-toggle"
                  id="togglePassword"
                >
                  <svg
                    class="eye-icon"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                    <circle cx="12" cy="12" r="3" />
                  </svg>
                </button>
              </div>
            </div>

            <div class="form-group">
              <label for="confirmPassword" class="form-label"
                >Confirm New Password</label
              >
              <div class="password-container">
                <input
                  type="password"
                  id="confirmPassword"
                  name="new_password2"
                  class="form-input"
                  placeholder="Confirm your new password"
                  required
                />
                <button
                  type="button"
                  class="password-toggle"
                  id="toggleConfirmPassword"
                >
                  <svg
                    class="eye-icon"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" />
                    <circle cx="12" cy="12" r="3" />
                  </svg>
                </button>
              </div>
            </div>

            <div
              class="error-messages"
              id="errorMessages"
              style="display: none"
            >
              <ul id="errorList"></ul>
            </div>

            <div class="password-requirements">
              <p class="requirements-title">Password requirements:</p>
              <ul class="requirements-list">
                <li>• At least 8 characters long</li>
                <li>• Contains uppercase and lowercase letters</li>
                <li>• Contains at least one number</li>
              </ul>
            </div>
          </div>

          <div class="form-footer">
            <button type="submit" class="submit-btn">Reset Password</button>
          </div>
        </form>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p class="footer-text">build by jst</p>
    </footer>
  </body>
</html>
